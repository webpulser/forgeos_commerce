<% address = address || nil %>

<% form_remote_for :address, address, :url => { :controller => 'order', :action => 'create_address', :id => address } do |f| %>
  <%= f.select :type, [[I18n.t('Address delivery'), 'AddressDelivery'], [I18n.t('Address invoice'), 'AddressInvoice']] %><br />
  <%= f.select :civility_id, Civility.find(:all).collect { |civility| [civility.name, civility.id] } %><br />
  <div>
    <label><%=t 'Name' %></label>
    <%= f.text_field :name %>
  </div>
  <div>
    <label><%=t 'Firstname' %></label>
    <%= f.text_field :firstname %>    
  </div>
  <div>
    <label><%=t 'Address' %></label>
    <%= f.text_field :address %>
  </div>
  <div>
    <label><%=t 'Address' %></label>
    <%= f.text_field :address_2 %>
  </div>
  <div>
    <label><%=t 'Zip code' %></label>
    <%= f.text_field :zip_code %>
  </div>
  <div>
    <label><%=t 'City' %></label>
    <%= f.text_field :city %>    
  </div>
  <%= submit_tag I18n.t('Add address') %>
<% end %>
<%= link_to_remote(I18n.t('Back'), :url => { :controller => 'order', :action => 'back_addresses' }) %>
