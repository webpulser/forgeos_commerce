<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title><%=t 'project_name' %> - Admin</title>
  <%= stylesheet_link_tag 'admin/style', 'admin/theme'+(cookies[:theme]||'') %>
  <%= javascript_include_tag(:defaults, :cache => true) %>
  <!--[if IE]>
    <%= stylesheet_link_tag '/stylesheets/admin/ie-sucks' %>
  <![endif]-->
</head>

<body>
  <div id="container">
    <div id="header">
      <h2><%=t 'project_name' %> - Admin</h2>
      <div id="topmenu">
        <ul>
          <% 
            menu = { 'users' => { 'create' => { 'class' => 'add' }, 'export_newsletter' => { 'class' => 'report_seo' } },
            'products' => { 'attributes_groups' => { 'create' => { 'class' => 'add' } }, 'categories' =>{ 'create' => { 'class' => 'add' } }},
            'orders' => { 'vouchers' => { 'create' => { 'class' => 'add' } }, 'shipping_methods' => { 'create' => { 'class' => 'add' } } },
            'pictures' => { 'create' => { 'class' => 'add' } }
            }
          %>

          <% %w[users pictures products orders shipping_methods vouchers categories attributes_groups].each do |adminview| %>
          <li<% if (@controller.controller_name == adminview) %> class="current"<% end %>><%= link_to adminview.humanize, { :controller => adminview } %></li>
          <% end %>
        </ul>
      </div>
    </div>
    <div id="top-panel">
      <div id="panel">
        <ul>
          <%= yield_for_tools %>
        </ul>
      </div>
    </div>
    <div id="wrapper">
      <div id="content">
        <%= yield %>
      </div>
      <div id="sidebar">
        <ul>
            <% menu.each_key do |entry| %>
            <li>
              <h3><%= link_to(entry.humanize, { :controller => entry } , :class => 'folder_table') %></h3>
              <ul>
                <% menu[entry].each_key do |subentry| %>
                  <li><%= link_to(subentry.humanize, { :controller => (menu[entry][subentry]['class'].nil? ? subentry : entry), :action => (menu[entry][subentry]['class'].nil? ? 'index' : subentry) } , :class => menu[entry][subentry]['class'] || 'folder_table') %></li>
                <% end %>
              </ul>
            </li>
          <% end %>
        </ul>       
      </div>
    </div>
    <div id="footer">
      <div id="credits">
        Template by <a href="http://www.bloganje.com">Bloganje</a>
      </div>
      <div id="styleswitcher">
        <ul>
          <li><a href="javascript: document.cookie='theme='; window.location.reload();" title="Default" id="defswitch">d</a></li>
          <li><a href="javascript: document.cookie='theme=1'; window.location.reload();" title="Blue" id="blueswitch">b</a></li>
          <li><a href="javascript: document.cookie='theme=2'; window.location.reload();" title="Green" id="greenswitch">g</a></li>
          <li><a href="javascript: document.cookie='theme=3'; window.location.reload();" title="Brown" id="brownswitch">b</a></li>
          <li><a href="javascript: document.cookie='theme=4'; window.location.reload();" title="Mix" id="mixswitch">m</a></li>
        </ul>
      </div><br />
    </div>
  </div>
</body>
</html>
